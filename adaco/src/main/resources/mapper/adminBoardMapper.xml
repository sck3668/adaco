<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="adminBoardMapper">
	
	<select id = "findAllByReport" resultType="comments">
	<![CDATA[
		select * from
			(select b.*, rownum rnum from
				(select /*+ index_desc(art_comment report_cnt) */ cno, username, content, report_cnt reportCnt from art_comment) b
			where rownum <= #{endRowNum})
		where rnum >= #{startRowNum}
	]]>
	</select>
	
	<delete id ="deleteByReport">
		delete from art_comments where cno = #{cno} and rownum = 1
	</delete>
	
	<delete id = "deleteByArt">
		delete from art where artno = #{artno} and rownum = 1
	</delete>
	
	<select id = "findAllByQuestion" resultType="question">
		select /*+ index_desc(question question_pk_qno)
	</select>
</mapper>